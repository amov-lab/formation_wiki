动捕无人机集群
==============

动作捕捉系统介绍
-----------------------------

|          光学动作捕捉系统是一把算法层面的    **尺子**     ，可以实时以0.1mm的精度捕捉空间内智能体6DOF
|       的位姿信息，更可以通过基于频闪编码的主动式标记点和惯性传感器融合技术解决目标因遮挡、拍摄越界造成的追踪丢失问题。光学动作捕捉系统广泛应用在室内无人机编队、智能体测量、机器人控制系统开发等领域，在解决高鲁棒性追踪问题基础上，可以简化被测量目标的标记点部署，减小标记重量，简化测量流程，提升开发效率。


动捕无人机集群介绍
-----------------------------

|          动作捕捉系统（后续简称    **动捕系统**     ）能提供高精度且稳定的六自由度定位数据，能完全避免因
|       室内磁场环境复杂导致无人机磁罗盘异常而无法正常飞行的问题，动捕系统的相机也需要放置在固定位置，所以比较适合在室内一个固定的场所搭建一个动捕场景，用来做一些室内实验是非常合适的，而我们也有针对于室内环境而打造的小型无人机集群平台，两者相辅相成，便可搭建一个室内的动捕无人机集群实验室。

货物验收
-----------------------------

|          客户拿到全部的货物之后，应按照硬件清单一一检查各硬件模块的数量以及是否存在损坏异常
|      等。

集群飞行功能
-----------------------------

**操作步骤：**   

|          1.	打开电源，给路由器，地面端电脑等模块进行供电；

|          2.	在地面端电脑上运行动捕系统软件；

|          3.	将无人机放置在飞行区域中，在地面端电脑上确认动捕系统计算的无人机定位数据正常；

|          4.  将1号无人机上电启动，在地面端电脑上通过NoMachine连接1号无人机的电脑，并启动位于1号机电脑桌面的formation_mocap.sh文件，确认各个节点启动正常后，将2,3,4,5号无人机按照23145的顺序摆放，机头方向朝向动捕定位系统坐标系的X轴，然后上电启动；

    .. image:: ../../images/formation/9.png
        :height: 880px
        :width: 2220px
        :scale: 30 %
        :alt: None
        :align: center 

|          5.	先进行单机定点飞行，确认无人机单机能够正常解锁并能够定点飞行；

|          6.	在集群状态节点的终端窗口查看每架无人机的状态，确保没有异常。

    .. image:: ../../images/formation/12.png
        :height: 1280px
        :width: 1920px
        :scale: 30 %
        :alt: None
        :align: center 

|          7.	在位置控制节点的终端窗口中根据提示输入在本地坐标系下的目标位置X,Y,Z（单位为米）以及无人机偏航角（单位为弧度）数据；

    .. image:: ../../images/formation/5.png
        :height: 1280px
        :width: 1920px
        :scale: 30 %
        :alt: None
        :align: center 

|          8.	在队形切换节点的终端窗口根据提示选择队形（目前仅支持以一字形或三角形起飞，不选择的情况下默认以一字形起飞）；

    .. image:: ../../images/formation/6.png
        :height: 1280px
        :width: 1920px
        :scale: 30 %
        :alt: None
        :align: center 

|          9.	在模式切换节点的终端窗口根据提示输入数字0选择解锁起飞，无人机集群便飞行至目标位置；

    .. image:: ../../images/formation/7.png
        :height: 1280px
        :width: 1920px
        :scale: 30 %
        :alt: None
        :align: center 

|          10.	用户可根据个人使用情况按照提示正确输入队形控制，模式控制，位置控制相关指令。


  
四机正方形绕圈功能
---------------------------------------------

**操作步骤：**

|          1.	打开电源，给路由器，地面端电脑等模块进行供电；

|          2.	在地面端电脑上运行动捕系统软件；

|          3.	将无人机放置在飞行区域中，在地面端电脑上确认动捕系统计算的无人机定位数据正常

|          4.	将1号无人机放置在飞行区域X,Y的正半轴部分后上电启动，在地面端电脑上通过NoMachine连接1号无人机的电脑，并启动位于1号机电脑桌面的formation_square_mocap.sh文件，确认各个节点启动正常后，将2,3,4号无人机按顺序依照顺时针的方向摆放，与1号机组成一个正方形，机头方向朝向动捕定位系统坐标系的X轴，然后上电启动；

    .. image:: ../../images/formation/10.png
        :height: 880px
        :width: 2220px
        :scale: 30 %
        :alt: None
        :align: center 

|          5.	先进行单机定点飞行，确认无人机单机能够正常解锁并能够定点飞行；

|          6.  在集群状态节点的终端窗口查看每架无人机的状态，确保没有异常；

    .. image:: ../../images/formation/13.png
        :height: 1280px
        :width: 1920px
        :scale: 30 %
        :alt: None
        :align: center

|          7.  在正方形绕圈控制节点终端窗口根据提示输入1启动正方形绕圈功能。

    .. image:: ../../images/formation/8.png
        :height: 1280px
        :width: 1920px
        :scale: 30 %
        :alt: None
        :align: center